<!DOCTYPE html>
<html lang="fr">

    <head>

        <meta charset="UTF-8">
        <title>Envelope</title>
        
        <link rel="stylesheet" type="text/css" href="style.css">

    </head>

    <body>

        <div style="background: black; height:500px"
        tabindex="0"
        onkeydown="playSynth()"></div>

    </body>
 
    <script>

        let audioContext = window.AudioContext || window.webkitAudioContext; 

        let audioEngine = new audioContext();

        function playSynth()
        {
            let oscilator = audioEngine.createOscillator();
            let amp = audioEngine.createGain(); // To prevent distortions

            oscilator.frequency.value = Math.random() * 500; 
            oscilator.type = 'triangle'; /* square; sine */
            amp.gain.value = 0.05; // = 20 oscilators without distortion

            let timestamp = audioEngine.currentTime;

            oscilator.connect(amp);
            amp.connect(audioEngine.destination);
            oscilator.start();
        }

    </script>

</html> 

